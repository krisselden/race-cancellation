<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [race-cancellation](./race-cancellation.md)

## race-cancellation package

## Functions

|  Function | Description |
|  --- | --- |
|  [composeRaceCancel(inner, outer)](./race-cancellation.composeracecancel.md) | Returns a RaceCancel function that is the combination of two RaceCancel function.<!-- -->For convenience of writing methods that take cancellations, the params are optional. If a is undefined, then b is retuned, if b is undefined then a is returned, and if they both are undefined a noop race that just invokes the task is returned. |
|  [deferCancel()](./race-cancellation.defercancel.md) | Create a tuple of raceCancel and cancel functions. |
|  [disposablePromise(executor, raceCancel)](./race-cancellation.disposablepromise.md) | Creates a Promise from an executor that returns a [Dispose](./race-cancellation.dispose.md) function. |
|  [newRaceCancel(isCancelled, executor, cancelReason)](./race-cancellation.newracecancel.md) | Create a race cancellation function. |
|  [withCancelPending(cancellableTask, outerRaceCancel)](./race-cancellation.withcancelpending.md) | Wrap a cancellable task to cancel tasks still pending when another concurrent task's promise either rejected in a Promise.all() or won in a Promise.race(). |
|  [withDisposableCancel(cancellableTask, cancelExecutor, outerRaceCancel)](./race-cancellation.withdisposablecancel.md) | Run a [CancellableTask](./race-cancellation.cancellabletask.md) function with a [RaceCancel](./race-cancellation.racecancel.md) adapted from a [DisposableCancelExecutor](./race-cancellation.disposablecancelexecutor.md) function. |
|  [withTimeout(task, milliseconds, raceCancel)](./race-cancellation.withtimeout.md) | Wrap a cancellable task with a timeout.
```js
async function fetchWithTimeout(url, timeoutMs, raceCancel) {
  return await withTimeout((raceTimeout) => cancellableFetch(url, raceTimeout), timeoutMs, raceCancel);
}

```
 |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [CancelError](./race-cancellation.cancelerror.md) | The default error thrown during from the Promise.race if the cancellation task wins. |
|  [TimeoutError](./race-cancellation.timeouterror.md) |  |

## Variables

|  Variable | Description |
|  --- | --- |
|  [defaultRaceCancel](./race-cancellation.defaultracecancel.md) | Allows an async function to add raceCancellation as an optional param in a backwards compatible way by using this as the default. |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [CancelExecutor](./race-cancellation.cancelexecutor.md) |  |
|  [CancellableTask](./race-cancellation.cancellabletask.md) | A cancellable async task. |
|  [CancelReason](./race-cancellation.cancelreason.md) | A [CancelError](./race-cancellation.cancelerror.md) or <code>string</code> that is the cancellation reason. |
|  [DisposableCancelExecutor](./race-cancellation.disposablecancelexecutor.md) |  |
|  [DisposableExecutor](./race-cancellation.disposableexecutor.md) | A promise executor that returns a [Dispose](./race-cancellation.dispose.md)<!-- -->.<!-- -->For example, if it is the promise of a setTimeout, should call clearTimeout.<!-- -->If it resolves on an event listener, it should uninstall the event listener. |
|  [Dispose](./race-cancellation.dispose.md) | A cleanup function that should be idempotent and infallible. |
|  [IsCancelled](./race-cancellation.iscancelled.md) |  |
|  [RaceCancel](./race-cancellation.racecancel.md) | A function that builds a race against a cancel rejection.<!-- -->If the task is a function, the expectation is it will not be called if already in a cancelled state. Thus it should not close over any floating promises, in general it should just create a new promise, if it uses a cached promise it should have been already chained to something that handles its rejection.<!-- -->This method can also take a promise and it will always race it even if already in a cancelled state so if the promise fails it will not cause an unhandled rejection.<!-- -->Calling this function is infallible (it wont fail to return a Promise to be awaited). |
|  [ResolveCancel](./race-cancellation.resolvecancel.md) |  |
|  [Task](./race-cancellation.task.md) | An async task. |

