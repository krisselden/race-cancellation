<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [race-cancellation](./race-cancellation.md)

## race-cancellation package

A functional version of the cancellation token pattern for making cancellable async functions.

## Remarks

The [CancellableAsyncFn](./race-cancellation.cancellableasyncfn.md) takes a [RaceCancelFn](./race-cancellation.racecancelfn.md) function that will build the cancellation race lazily.

This avoids a number of issues around cleanup and unhandled rejections and as well as being easy to adapt other cancellation implementations for interop.

## Functions

|  Function | Description |
|  --- | --- |
|  [cancellablePromise(disposableExecutor, raceCancel)](./race-cancellation.cancellablepromise.md) | Creates a cancellable Promise from an executor that returns a [DisposeFn](./race-cancellation.disposefn.md) function and a [RaceCancelFn](./race-cancellation.racecancelfn.md) function. |
|  [composeRaceCancel(inner, outer)](./race-cancellation.composeracecancel.md) | Returns a [RaceCancelFn](./race-cancellation.racecancelfn.md) function that is the composition of the two RaceCancel functions. |
|  [deferCancel()](./race-cancellation.defercancel.md) | Create a tuple of [RaceCancelFn](./race-cancellation.racecancelfn.md) and [ResolveCancelFn](./race-cancellation.resolvecancelfn.md) functions. |
|  [newRaceCancel(isCancelled, executor, cancelReason)](./race-cancellation.newracecancel.md) | Create a [RaceCancelFn](./race-cancellation.racecancelfn.md) function. |
|  [withCancel(cancellableAsync, disposableCancelExecutor, outerRaceCancel)](./race-cancellation.withcancel.md) | Run a [CancellableAsyncFn](./race-cancellation.cancellableasyncfn.md) function with a [RaceCancelFn](./race-cancellation.racecancelfn.md) adapted from a [DisposableCancelExecutorFn](./race-cancellation.disposablecancelexecutorfn.md) function. |
|  [withCancelPending(cancellableAsync, outerRaceCancel)](./race-cancellation.withcancelpending.md) | Wrap a [CancellableAsyncFn](./race-cancellation.cancellableasyncfn.md) function to cancel still pending concurrent child [CancellableAsyncFn](./race-cancellation.cancellableasyncfn.md) functions when another concurrent promise either rejected in a Promise.all() or won in a Promise.race(). |
|  [withTimeout(cancellableAsync, milliseconds, raceCancel)](./race-cancellation.withtimeout.md) | Wrap a cancellable async function with a timeout. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [CancelError](./race-cancellation.cancelerror.md) | The Error interface for cancellation rejection. |
|  [TimeoutError](./race-cancellation.timeouterror.md) | The Error interface for [withTimeout()](./race-cancellation.withtimeout.md) if the timeout wins the race. |

## Variables

|  Variable | Description |
|  --- | --- |
|  [noopRaceCancel](./race-cancellation.noopracecancel.md) | A no-op implemenation of a [RaceCancelFn](./race-cancellation.racecancelfn.md) function. |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [AsyncFn](./race-cancellation.asyncfn.md) | An async function. |
|  [CancelExecutorFn](./race-cancellation.cancelexecutorfn.md) | A executor function for the cancellation. |
|  [CancellableAsyncFn](./race-cancellation.cancellableasyncfn.md) | A cancellable async function. |
|  [CancelReason](./race-cancellation.cancelreason.md) | A [CancelError](./race-cancellation.cancelerror.md) or <code>string</code> that is the cancellation reason. |
|  [DisposableCancelExecutorFn](./race-cancellation.disposablecancelexecutorfn.md) | A executor function for the cancellation concern that can resolve with a reason and can return a cleanup function. |
|  [DisposableExecutorFn](./race-cancellation.disposableexecutorfn.md) | A promise executor that returns a [DisposeFn](./race-cancellation.disposefn.md) function. |
|  [DisposeFn](./race-cancellation.disposefn.md) | A cleanup function that should be idempotent and infallible. |
|  [IsCancelledFn](./race-cancellation.iscancelledfn.md) | An accessor function for checking cancelled state. |
|  [RaceCancelFn](./race-cancellation.racecancelfn.md) | A function that builds a race against a cancel rejection. |
|  [ResolveCancelFn](./race-cancellation.resolvecancelfn.md) | A function that resolves the cancellation for deferCancel or withCancel. |

